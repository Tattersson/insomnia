{"version":3,"file":"angular-twitter-timeline.mjs","sources":["../../../projects/angular-twitter-timeline/src/lib/angular-twitter-timeline.service.ts","../../../projects/angular-twitter-timeline/src/lib/angular-twitter-timeline.component.ts","../../../projects/angular-twitter-timeline/src/lib/angular-twitter-timeline.module.ts","../../../projects/angular-twitter-timeline/src/public-api.ts","../../../projects/angular-twitter-timeline/src/angular-twitter-timeline.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable } from \"rxjs\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AngularTwitterTimelineService {\n  private TWITTER_SCRIPT_ID = 'twitter-wjs';\n  private TWITTER_WIDGET_URL = 'https://platform.twitter.com/widgets.js';\n\n  loadScript(): Observable<any> {\n    return new Observable((observer) => {\n\n      this.startScriptLoad();\n\n      (<any>window)['twttr'].ready((twttr: any) => {\n        observer.next(twttr);\n        observer.complete();\n      });\n\n    });\n  }\n\n  private startScriptLoad() {\n    (<any>window)['twttr'] = (function (d, s, id, url) {\n      let script: any,\n        firstScriptEl: any = d.getElementsByTagName(s)[0],\n        twitterScript: any = (<any>window)['twttr'] || {};\n      if (d.getElementById(id)) {\n        return twitterScript;\n      }\n\n      script = d.createElement(s);\n      script.id = id;\n      script.src = url;\n      firstScriptEl.parentNode.insertBefore(script, firstScriptEl);\n\n      twitterScript._e = [];\n\n      twitterScript.ready = function (f: any) {\n        twitterScript._e.push(f);\n      };\n\n      return twitterScript;\n    }(document, 'script', this.TWITTER_SCRIPT_ID, this.TWITTER_WIDGET_URL));\n  }\n}\n","import { Component, ElementRef, Input, OnChanges } from '@angular/core';\nimport { AngularTwitterTimelineService } from \"./angular-twitter-timeline.service\";\nimport { AngularTwitterTimelineOptionsInterface } from \"./angular-twitter-timeline-options.interface\";\nimport { AngularTwitterTimelineDataInterface } from \"./angular-twitter-timeline-data.interface\";\n\n@Component({\n  selector: 'angular-twitter-timeline',\n  template: ``,\n  styles: []\n})\nexport class AngularTwitterTimelineComponent implements OnChanges {\n  @Input() data?: AngularTwitterTimelineDataInterface;\n  /**\n   * A hash of additional options to configure the widget\n   */\n  @Input() opts?: AngularTwitterTimelineOptionsInterface;\n\n  defaultOpts: AngularTwitterTimelineOptionsInterface = {\n    tweetLimit: 5\n  };\n\n  defaultData: AngularTwitterTimelineDataInterface = {\n    sourceType: 'url',\n    url: 'https://twitter.com/mustafaer_dev',\n    screenName: 'Mustafa ER'\n  };\n\n  constructor(\n    private element: ElementRef,\n    private twitterTimelineService: AngularTwitterTimelineService\n  ) {\n  }\n\n  ngOnChanges() {\n    if (this.data && this.data.sourceType) {\n      switch (this.data.sourceType) {\n        case 'url':\n          delete this.defaultData.screenName;\n          break;\n        case 'profile':\n          delete this.defaultData.url;\n          break;\n        default:\n          break;\n      }\n      this.loadTwitterWidget();\n    }\n  }\n\n  loadTwitterWidget() {\n    this.twitterTimelineService\n      .loadScript()\n      .subscribe({\n        next: () => {\n          let nativeElement = this.element.nativeElement;\n          nativeElement.innerHTML = \"\";\n          (<any>window)['twttr']\n            .widgets\n            .createTimeline(\n              { ...this.defaultData, ...this.data },\n              nativeElement,\n              { ...this.defaultOpts, ...this.opts }\n            )\n            .then(() => {\n            })\n            .catch((error: any) => console.error(error))\n        },\n        error: (error: any) => console.error(error),\n      });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { AngularTwitterTimelineComponent } from './angular-twitter-timeline.component';\n\n\n@NgModule({\n  declarations: [\n    AngularTwitterTimelineComponent\n  ],\n  exports: [\n    AngularTwitterTimelineComponent\n  ]\n})\nexport class AngularTwitterTimelineModule {\n}\n","/*\n * Public API Surface of angular-twitter-timeline\n */\n\nexport * from './lib/angular-twitter-timeline.service';\nexport * from './lib/angular-twitter-timeline.component';\nexport * from './lib/angular-twitter-timeline.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1.AngularTwitterTimelineService"],"mappings":"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"}